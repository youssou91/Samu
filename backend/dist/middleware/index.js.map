{"version":3,"file":"index.js","names":["proteger","autoriser","verifierProprietaire","verifierProprietaireOuAdmin","require","validate","validateParamId","validateBody","validateQuery","errorHandler","notFoundHandler","joiErrorHandler","duplicateKeyErrorHandler","validationErrorHandler","jwtErrorHandler","rateLimitErrorHandler","configureHelmet","configureRateLimit","configureCors","configureMongoSanitize","configureXss","configureHpp","configureSecurityHeaders","limitBodySize","requestId","requestLogger","errorLogger","slowRequestLogger","cache","cacheMiddleware","cacheError","clearCache","clearCacheByRoute","clearCacheByPrefix","generateCacheKey","upload","uploadSingle","uploadMultiple","uploadFields","deleteFile","deleteFiles","requireFile","requireFiles","uploadDir","module","exports"],"sources":["../../src/middleware/index.js"],"sourcesContent":["// Middleware d'authentification et d'autorisation\nconst {\n  proteger,\n  autoriser,\n  verifierProprietaire,\n  verifierProprietaireOuAdmin,\n} = require('./auth');\n\n// Middleware de validation\nconst {\n  validate,\n  validateParamId,\n  validateBody,\n  validateQuery,\n} = require('./validate');\n\n// Middleware de gestion des erreurs\nconst {\n  errorHandler,\n  notFoundHandler,\n  joiErrorHandler,\n  duplicateKeyErrorHandler,\n  validationErrorHandler,\n  jwtErrorHandler,\n  rateLimitErrorHandler,\n} = require('./errorHandler');\n\n// Middleware de sécurité\nconst {\n  configureHelmet,\n  configureRateLimit,\n  configureCors,\n  configureMongoSanitize,\n  configureXss,\n  configureHpp,\n  configureSecurityHeaders,\n  limitBodySize,\n} = require('./security');\n\n// Middleware de journalisation\nconst {\n  requestId,\n  requestLogger,\n  errorLogger,\n  slowRequestLogger,\n} = require('./logger');\n\n// Middleware de cache\nconst {\n  cache,\n  cacheMiddleware,\n  cacheError,\n  clearCache,\n  clearCacheByRoute,\n  clearCacheByPrefix,\n  generateCacheKey,\n} = require('./cache');\n\n// Middleware de gestion des fichiers\nconst {\n  upload,\n  uploadSingle,\n  uploadMultiple,\n  uploadFields,\n  deleteFile,\n  deleteFiles,\n  requireFile,\n  requireFiles,\n  uploadDir,\n} = require('./upload');\n\n// Exporter tous les middlewares\nmodule.exports = {\n  // Authentification et autorisation\n  proteger,\n  autoriser,\n  verifierProprietaire,\n  verifierProprietaireOuAdmin,\n  \n  // Validation\n  validate,\n  validateParamId,\n  validateBody,\n  validateQuery,\n  \n  // Gestion des erreurs\n  errorHandler,\n  notFoundHandler,\n  joiErrorHandler,\n  duplicateKeyErrorHandler,\n  validationErrorHandler,\n  jwtErrorHandler,\n  rateLimitErrorHandler,\n  \n  // Sécurité\n  configureHelmet,\n  configureRateLimit,\n  configureCors,\n  configureMongoSanitize,\n  configureXss,\n  configureHpp,\n  configureSecurityHeaders,\n  limitBodySize,\n  \n  // Journalisation\n  requestId,\n  requestLogger,\n  errorLogger,\n  slowRequestLogger,\n  \n  // Cache\n  cache,\n  cacheMiddleware,\n  cacheError,\n  clearCache,\n  clearCacheByRoute,\n  clearCacheByPrefix,\n  generateCacheKey,\n  \n  // Gestion des fichiers\n  upload,\n  uploadSingle,\n  uploadMultiple,\n  uploadFields,\n  deleteFile,\n  deleteFiles,\n  requireFile,\n  requireFiles,\n  uploadDir,\n};\n"],"mappings":"cAAA;AACA,MAAM;EACJA,QAAQ;EACRC,SAAS;EACTC,oBAAoB;EACpBC;AACF,CAAC,GAAGC,OAAO,CAAC,QAAQ,CAAC;;AAErB;AACA,MAAM;EACJC,QAAQ;EACRC,eAAe;EACfC,YAAY;EACZC;AACF,CAAC,GAAGJ,OAAO,CAAC,YAAY,CAAC;;AAEzB;AACA,MAAM;EACJK,YAAY;EACZC,eAAe;EACfC,eAAe;EACfC,wBAAwB;EACxBC,sBAAsB;EACtBC,eAAe;EACfC;AACF,CAAC,GAAGX,OAAO,CAAC,gBAAgB,CAAC;;AAE7B;AACA,MAAM;EACJY,eAAe;EACfC,kBAAkB;EAClBC,aAAa;EACbC,sBAAsB;EACtBC,YAAY;EACZC,YAAY;EACZC,wBAAwB;EACxBC;AACF,CAAC,GAAGnB,OAAO,CAAC,YAAY,CAAC;;AAEzB;AACA,MAAM;EACJoB,SAAS;EACTC,aAAa;EACbC,WAAW;EACXC;AACF,CAAC,GAAGvB,OAAO,CAAC,UAAU,CAAC;;AAEvB;AACA,MAAM;EACJwB,KAAK;EACLC,eAAe;EACfC,UAAU;EACVC,UAAU;EACVC,iBAAiB;EACjBC,kBAAkB;EAClBC;AACF,CAAC,GAAG9B,OAAO,CAAC,SAAS,CAAC;;AAEtB;AACA,MAAM;EACJ+B,MAAM;EACNC,YAAY;EACZC,cAAc;EACdC,YAAY;EACZC,UAAU;EACVC,WAAW;EACXC,WAAW;EACXC,YAAY;EACZC;AACF,CAAC,GAAGvC,OAAO,CAAC,UAAU,CAAC;;AAEvB;AACAwC,MAAM,CAACC,OAAO,GAAG;EACf;EACA7C,QAAQ;EACRC,SAAS;EACTC,oBAAoB;EACpBC,2BAA2B;;EAE3B;EACAE,QAAQ;EACRC,eAAe;EACfC,YAAY;EACZC,aAAa;;EAEb;EACAC,YAAY;EACZC,eAAe;EACfC,eAAe;EACfC,wBAAwB;EACxBC,sBAAsB;EACtBC,eAAe;EACfC,qBAAqB;;EAErB;EACAC,eAAe;EACfC,kBAAkB;EAClBC,aAAa;EACbC,sBAAsB;EACtBC,YAAY;EACZC,YAAY;EACZC,wBAAwB;EACxBC,aAAa;;EAEb;EACAC,SAAS;EACTC,aAAa;EACbC,WAAW;EACXC,iBAAiB;;EAEjB;EACAC,KAAK;EACLC,eAAe;EACfC,UAAU;EACVC,UAAU;EACVC,iBAAiB;EACjBC,kBAAkB;EAClBC,gBAAgB;;EAEhB;EACAC,MAAM;EACNC,YAAY;EACZC,cAAc;EACdC,YAAY;EACZC,UAAU;EACVC,WAAW;EACXC,WAAW;EACXC,YAAY;EACZC;AACF,CAAC","ignoreList":[]}